(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{A6DT:function(e,t,a){"use strict";var i=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("pVnL")),s=l(a("MVZn")),r=i(a("MebM")),o=a("MuoO"),d=l(a("LvDl")),c=l(a("dnEz")),p=l(a("UbMB")),u=a("Kvkj"),f=l(a("20nU")),g=l(a("Gt7H")),h=f.default.gitalkOption,m=f.default.tagsOption,v=f.default.themeColors,_=m.enableGitalk,E=m.qoute,b=p.default.bind(g.default),k=d.default.shuffle(v);class y extends r.PureComponent{constructor(e){super(e),this.filterPost=(e=>{this.props.dispatch({type:"app/filterPost",payload:{type:"labels",filter:e}}).then(t=>{var a=t.slice(0,this.state.pageSize),i=Math.ceil(t.length/this.state.pageSize);this.setState({filterTitle:e,filterPost:t,currList:a,page:1,maxPage:i})}).catch(console.error)}),this.clearFilter=(()=>{this.setState({filterTitle:"",filterPost:[],currList:[],page:1,maxPage:1})}),this.prev=(()=>{var e=this.state,t=e.filterPost,a=e.page,i=e.pageSize,l=a-1,n=t.slice((l-1)*i,(a-1)*i);this.setState({currList:n,page:l})}),this.next=(()=>{var e=this.state,t=e.filterPost,a=e.page,i=e.pageSize,l=a+1,n=t.slice(a*i,l*i);this.setState({currList:n,page:l})}),this.renderGitalk=(()=>{_&&!this.state.renderGitalk&&(setTimeout(()=>{var e=new c.default((0,s.default)({},h,{title:"\u6807\u7b7e"}));e.render("gitalk")},100),this.setState({renderGitalk:!0}))}),this.state={showLoading:!0,renderGitalk:!1,filterTitle:"",filterPost:[],currList:[],pageSize:10,page:1,maxPage:1}}componentDidMount(){this.props.dispatch({type:"app/queryTags"})}componentWillReceiveProps(e){!e.loading&&e.tags.length&&this.setState({showLoading:!1})}componentWillUnmount(){this.props.dispatch({type:"app/updateState",payload:{tags:[]}})}render(e,t){var a=e.tags,i=e.loading,l=t.showLoading,s=t.filterTitle,o=t.currList,d=t.page,c=t.maxPage;return r.default.createElement("div",{class:b("container")},r.default.createElement(u.Transition,{visible:!i&&!l,animation:"drop",duration:600,onShow:this.renderGitalk},r.default.createElement("div",{class:b("body")},r.default.createElement(u.Quote,{text:E}),r.default.createElement("div",{class:b("content")},a.map((e,t)=>{var a=k[t%k.length];return r.default.createElement("button",{key:t,style:{color:a},onClick:()=>this.filterPost(e.name)},e.name)})),r.default.createElement(u.Transition,{visible:o.length,animation:"fade down",duration:600},r.default.createElement("div",{class:b("filter-post")},r.default.createElement("div",null,r.default.createElement("span",null,"Tag:"),r.default.createElement("button",{class:b("menu-btn"),onClick:this.clearFilter},s,r.default.createElement("i",{class:"icon"},"\ue806"))),r.default.createElement("div",{class:b("content")},o.map((e,t)=>{var a=k[t];return r.default.createElement(u.Archive,(0,n.default)({key:t,color:a},e))})),r.default.createElement(u.Pagination,{prev:this.prev,next:this.next,page:d,maxPage:c}))))),_&&r.default.createElement("div",{id:"gitalk"}),l&&r.default.createElement(u.Loading,{className:b("loading")}))}}var P=(0,o.connect)(e=>{var t=e.app,a=e.loading;return{tags:t.tags,loading:a.effects["app/queryTags"]}})(y);t.default=P},Gt7H:function(e,t,a){e.exports={container:"container___3yCyc",body:"body___2NpMW",content:"content___9Rg0C","filter-post":"filter-post___ERknx","menu-btn":"menu-btn___NKXxX",loading:"loading___3fCY-"}}}]);