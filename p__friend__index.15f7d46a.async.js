(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{AxH5:function(e,t,a){"use strict";var n=a("284h"),r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("MVZn")),i=n(a("MebM")),o=a("MuoO"),d=r(a("LvDl")),s=r(a("dnEz")),c=r(a("UbMB")),p=a("Kvkj"),u=r(a("20nU")),f=r(a("c62v")),m=u.default.gitalkOption,v=u.default.friendsOption,g=v.enableGitalk,h=v.qoute,_=c.default.bind(f.default);class k extends i.PureComponent{constructor(e){super(e),this.renderGitalk=(()=>{g&&!this.state.renderGitalk&&(setTimeout(()=>{var e=new s.default((0,l.default)({},m,{title:"\u53cb\u94fe"}));e.render("gitalk")},100),this.setState({renderGitalk:!0}))}),this.state={showLoading:!0,renderGitalk:!1}}componentDidMount(){this.props.dispatch({type:"app/queryPage",payload:{type:"friend"}})}componentWillReceiveProps(e){e.loading||d.default.isEmpty(e.friends)||this.setState({showLoading:!1})}componentWillUnmount(){this.props.dispatch({type:"app/updateState",payload:{friends:{}}})}render(e,t){var a=e.friends,n=e.loading,r=t.showLoading,l=a.body&&a.body.trim().split("## ").filter(e=>e.length>0).map(e=>{var t=e.split("\r\n").filter(e=>e.length);return{name:t[0],link:t[1].split("link:")[1],cover:t[2].split("cover:")[1],avatar:t[3].split("avatar:")[1]}});return i.default.createElement("div",{class:_("container")},i.default.createElement(p.Transition,{visible:!n&&!r,animation:"drop",duration:600,onShow:this.renderGitalk},i.default.createElement("div",{class:_("body")},i.default.createElement(p.Quote,{text:h}),i.default.createElement("div",{class:_("content")},l&&l.map((e,t)=>{return i.default.createElement("a",{key:t,href:e.link,rel:"noopener noreferrer",target:"_blank"},i.default.createElement("img",{class:_("cover"),alt:"",src:e.cover}),i.default.createElement("div",{class:_("info")},i.default.createElement("img",{src:e.avatar,alt:""}),i.default.createElement("span",null,e.name)))}),d.default.range(4).map((e,t)=>{return i.default.createElement("a",{class:"empty",style:"height: 0; margin: 0;",key:t+"empty",href:e.link,rel:"noopener noreferrer",target:"_blank"})})))),g&&i.default.createElement("div",{id:"gitalk"}),r&&i.default.createElement(p.Loading,{className:_("loading")}))}}var y=(0,o.connect)(e=>{var t=e.app,a=e.loading;return{friends:t.friend,loading:a.effects["app/queryPage"]}})(k);t.default=y},c62v:function(e,t,a){e.exports={container:"container___E3Lof",body:"body___34l4M",content:"content___Ak1cC",cover:"cover___3L0uu",info:"info___24upp",loading:"loading___1tsrz"}}}]);